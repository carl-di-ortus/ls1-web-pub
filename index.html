<!DOCTYPE html>
<html>
<head>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />

    <title>Tabbed nav-bar menu with dummy page contents</title>
</head>
<body>
    
<h2><a href="./index.html">LSat1-web-pub</a></h2>

<!-- ==== Nav-bar tabbed menu ==== -->
<ul class="nav nav-tabs">
    <li class="dropdown active">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Telemetry<b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="active"><a href="#Telemetry" data-toggle="tab">Newest</a></li>
            <li><a href="#Archive" data-toggle="tab">Archive</a></li>
            <li class="divider" />
            <li><a href="#Submit" data-toggle="tab">Submit telemetry data</a></li>
            <li><a href="#Amateur" data-toggle="tab">Amateur data archive</a></li>
        </ul>
    </li>
    <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">GPS<b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="#GPS" data-toggle="tab">Map</a></li>
            <li><a href="#History" data-toggle="tab">History</a></li>
        </ul>
    </li>
    <li><a data-toggle="tab" href="#Photo">Photo</a></li>
</ul>

<!-- ==== Content ==== -->
<div class="tab-content">
    
    <!-- ==== Newest telemetry ==== -->
    <div id="Telemetry" class="tab-pane fade active in">
        <h3>Telemetry data</h3>
        <div>   
            <div id="chart_div" style="width: 500px; height: 500px;"></div>
            <p>[Dummy other text]</p>
        </div>
    </div>
    
    <!-- ==== Telemetry archive ==== -->
    <div id="Archive" class="tab-pane fade">
        <h3>Telemetry archive</h3>
        <div>
            <p>todo: insert table here</p>
            <span id="TArchive"></span>
            <script type="text/javascript" language="javascript">
                var the_object = {}; 
                var http_request = new XMLHttpRequest();
                http_request.open( "GET", "http://127.0.0.1:12321/ls1mcs/api/telemetry/5646", true );
                
                http_request.onreadystatechange = function () {
                    if ( http_request.readyState == 4 && http_request.status == 200 ) {
                        the_object = JSON.parse( http_request.responseText );
                        document.getElementById("TArchive").innerHTML=the_object.field1+" "+the_object.field2
                    } else {
                        document.getElementById("TArchive").innerHTML="Error: Could not get data"
                    }
                };
                http_request.send(null);
            </script>
        </div>
    </div>
    
    <!-- ==== Amateur submit page ==== -->
    <div id="Submit" class="tab-pane fade">
        <h3>Submit data</h3>
        <div>
            <p>todo: insert submition fields here</p>
        </div>
    </div>
    
    <!-- ==== Amateur archive ==== -->
    <div id="Amateur" class="tab-pane fade">
        <h3>Amateur radio archive</h3>
        <div>
            <p>todo: insert amateur archive table here</p>
        </div>
    </div>
    
    <!-- ==== GPS map ==== -->
    <div id="GPS" class="tab-pane fade">
        <h3>GPS data</h3>
        <div>
            <p>todo: Map GPS coordinates</p>
            <svg>
                <circle cx="100" cy="50" r="3" stroke="black" fill="yellow"/>
                <circle cx="200" cy="50" r="20" stroke="black" fill="yellow"
                    fill-opacity="0.2"/>
            </svg>
        </div>
    </div>
    
    <!-- ==== GPS history table ==== -->
    <div id="History" class="tab-pane fade">
        <h3>GPS history</h3>
        <div>
            <p>todo: insert table here</p>
        </div>
    </div>
    
    <!-- ==== Photo table ==== -->
    <div id="Photo" class="tab-pane fade">
        <h3>Photo data</h3>
        <div>
            <p>Photo table</p>
            <p>Photo Location </p>
            <p>Map Photo</p>
        </div>
    </div>
</div>

<!-- ==== Loading JS (they say it's faster here, than in <head> tag) ==== -->
<script src="js/jquery-1.9.1.js"></script>
<script src="js/bootstrap.js"></script>
<script src="https://www.google.com/jsapi"></script>
<script src="js/content.js"></script>

</body>
</html>
